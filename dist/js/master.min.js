!function(){"use strict";var t,e,s={},i={};function n(t){var e=i[t];if(void 0!==e)return e.exports;var o=i[t]={exports:{}};return s[t](o,o.exports,n),o.exports}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t}).apply(this,arguments)}n.m=s,n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,s){return n.f[s](t,e),e}),[]))},n.u=function(t){return"embla-carousel.bundle.js"},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t={},e="blueprint-theme:",n.l=function(s,i,o,r){if(t[s])t[s].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==e+o){a=u;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",e+o),a.src=s),t[s]=[i];var h=function(e,i){a.onerror=a.onload=null,clearTimeout(p);var n=t[s];if(delete t[s],a.parentNode&&a.parentNode.removeChild(a),n&&n.forEach((function(t){return t(i)})),e)return e(i)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/wp-content/themes/blueprint-theme/dist/js/",function(){var t={179:0};n.f.j=function(e,s){var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)s.push(i[2]);else{var o=new Promise((function(s,n){i=t[e]=[s,n]}));s.push(i[2]=o);var r=n.p+n.u(e),a=new Error;n.l(r,(function(s){if(n.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",a.name="ChunkLoadError",a.type=o,a.request=r,i[1](a)}}),"chunk-"+e,e)}};var e=function(e,s){var i,o,r=s[0],a=s[1],l=s[2],c=0;for(i in a)n.o(a,i)&&(n.m[i]=a[i]);for(l&&l(n),e&&e(s);c<r.length;c++)o=r[c],n.o(t,o)&&t[o]&&t[o][0](),t[r[c]]=0},s=self.webpackChunkblueprint_theme=self.webpackChunkblueprint_theme||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var r=function(){function t(t){void 0===t&&(t=!1),this.enabled=t}var e=t.prototype;return e.debug=function(){var t;this.enabled&&(t=console).log.apply(t,[].slice.call(arguments))},e.debugInfo=function(){var t;this.enabled&&(t=console).info.apply(t,[].slice.call(arguments))},e.debugTable=function(){var t;this.enabled&&(t=console).table.apply(t,[].slice.call(arguments))},t}(),a={},l=function(){function t(){}return t.on=function(t,e){"object"!=typeof a[t]&&(a[t]=[]),a[t].push(e)},t.emit=function(t){var e=[].slice.call(arguments,1);setTimeout((function(){if("object"==typeof a[t])for(var s=a[t].slice(),i=0;i<s.length;i++)s[i].apply(null,e)}),0)},t}();function c(t){var e=t.trim().toLowerCase();return"true"===e||"false"!==e&&parseInt(e,10)>0}function d(){return void 0!==window.pageYOffset?window.pageYOffset:(document.scrollingElement||document.documentElement).scrollTop}function u(t){return t.getBoundingClientRect().top+d()}function h(t){return t.trim()?t.split(",").map((function(t){var e=t.trim().split(" "),s=e[2];return{url:e[0],width:parseInt(e[1],10),height:parseInt(s,10)}})).sort((function(t,e){return t.width>=t.height?t.width>e.width?1:-1:t.height>e.height?1:-1})):[]}function p(t){return!!t&&!t.hasAttribute("data-ib-no-cache")&&!!t.getAttribute("data-ib-cache-id")}function m(t){return t.hasAttribute("data-ib-ignore")}function g(t,e){void 0===e&&(e=!1);var s={width:"block"===(t.style.display?t.style.display:window.getComputedStyle(t).display)?t.clientWidth:0,height:t.clientHeight?t.clientHeight:0};return!s.width&&t.parentElement&&(s.width=function t(e){return"block"!==(e.style.display?e.style.display:window.getComputedStyle(e).display)&&e.parentElement?t(e.parentElement):e.clientWidth}(t.parentElement)),e&&(s.height=0),s}var b=function(){function t(t,e,s){t.classList.add(e.classes.base),t.setAttribute("data-ib-cache-id",Math.random().toString(36).substring(7)),this.el=t,this.config=e,this.elType=t.tagName.toLowerCase(),this.sizes=h(t.getAttribute(e.attributes.sources)||""),this.currentSize={width:0,height:0},this.loaded=!1,this.isLoading=!1,this.options={lazyLoad:t.hasAttribute(e.attributes.lazyLoad)?c(t.getAttribute(e.attributes.lazyLoad)||""):s.lazyLoad,lazyLoadThreshold:t.hasAttribute(e.attributes.lazyLoadThreshold)?parseInt(t.getAttribute(e.attributes.lazyLoadThreshold)||"0",10):s.lazyLoadThreshold,matchDPR:t.hasAttribute(e.attributes.matchDPR)?c(t.getAttribute(e.attributes.matchDPR)||""):s.matchDPR,noHeight:!!t.hasAttribute(e.attributes.noHeight)&&c(t.getAttribute(e.attributes.noHeight)||""),ignoreHiddenCheck:!!t.hasAttribute(e.attributes.ignoreHiddenCheck)&&c(t.getAttribute(e.attributes.ignoreHiddenCheck)||"")},this.offsetTop=u(this.el)}var e=t.prototype;return e.updateTopOffset=function(){this.offsetTop=u(this.el)},e.canLazyLoad=function(){return!(!this.options.lazyLoad||this.loaded)&&this.offsetTop-(d()+window.innerHeight)<=this.options.lazyLoadThreshold},e.chooseImage=function(){try{var t=this;if(t.isLoading)return Promise.resolve();if(!t.options.ignoreHiddenCheck&&t.isHidden())return Promise.resolve();t.isLoading=!0;var e=h(t.el.getAttribute(t.config.attributes.sources)||"");"img"===t.el.tagName.toLowerCase()&&parseInt(getComputedStyle(t.el).width||"0",10)<=1&&(t.el.style.width="100%");var s=g(t.el,t.options.noHeight);t.options.matchDPR&&(s.width*=window.devicePixelRatio,s.height*=window.devicePixelRatio);var i=e.map((function(t){return Object.assign(t,{score:(e=s.width,i=s.height,n=t.width,o=t.height,r=1,n>=e?r*=e/n:r-=Math.abs(e-n),i&&(o>=i?r*=i/o:r-=Math.abs(i-o)),r)});var e,i,n,o,r}));i.sort((function(t,e){return t.score-e.score}));var n=i[i.length-1];if((r=[t.el.getAttribute("src")||"",n.url].map((function(t){var e=document.createElement("a");return e.href=t.toLowerCase(),e.host+e.pathname})))[0]===r[1])return Promise.resolve();var o=function(e,s){try{var i=Promise.resolve((o=n.url,new Promise((function(t,e){var s=new Image;s.onload=function(){t(s.src)},s.onerror=function(){e(s.src)},s.src=o})))).then((function(e){"img"===t.el.tagName.toLowerCase()?t.el.setAttribute("src",e):t.el.style.backgroundImage="url('"+e+"')",t.loaded=!0,t.isLoading=!1,t.currentSize={width:n.width,height:n.height},t.el.classList.remove(t.config.classes.loading),t.el.classList.add(t.config.classes.loaded),l.emit("image-loaded",t.el)}))}catch(t){return s()}var o;return i&&i.then?i.then(void 0,s):i}(0,(function(){console.error("error loading image",n.url)}));return Promise.resolve(o&&o.then?o.then((function(){})):void 0)}catch(t){return Promise.reject(t)}var r},e.isHidden=function(){return null===this.el.offsetParent},t}(),f=function(){function t(t){var e=this;this.resizeHandler=function(){for(var t=0;t<e.elements.loaded.length;t++){var s=e.elements.loaded[t],i=g(s.el,s.options.noHeight);(i.width>s.currentSize.width||!s.options.noHeight&&i.height>s.currentSize.height)&&(e.debugger.debug("swapping image"),s.chooseImage())}for(var n=0;n<e.elements.queue.length;n++)e.elements.queue[n].updateTopOffset();e.processElementQueue()},this.scrollHandler=function(){e.processElementQueue()},this.eventsRunning={},this.elements={queue:[],loaded:[]},this.config={events:{resize:"ImageBuddyResize",scroll:"ImageBuddyScroll"},attributes:{sources:"data-ib-sources",lazyLoad:"data-ib-lazyload",lazyLoadThreshold:"data-ib-lazyload-threshold",matchDPR:"data-ib-match-dpr",noHeight:"data-ib-no-height",ignoreHiddenCheck:"data-ib-ignore-hidden-check"},classes:{base:"ib__image",loading:"ib__image--loading",loaded:"ib__image--loaded"}},this.opts=o({debug:!1,matchDPR:!0,lazyLoad:!0,lazyLoadThreshold:100},t),this.debugger=new r(this.opts.debug),this.setupEventListeners(),this.update()}var e=t.prototype;return e.processElementQueue=function(){var t=0;if(!this.elements.queue.length)return t;for(var e=0;e<this.elements.queue.length;e++){var s=this.elements.queue[e];s.options.lazyLoad&&!1===s.canLazyLoad()||(s.chooseImage(),this.elements.queue.splice(e,1),this.elements.loaded.push(s),e--,t++)}return t},e.update=function(t){void 0===t&&(t={});var e=performance.now(),s=t.parentEl||document.documentElement,i=this.getElements(s),n=t.updateOffsetTop||!1;if(this.elements.queue=this.elements.queue.concat(i),this.debugger.debugInfo(this.elements.queue),n)for(var o=0;o<this.elements.queue.length;o++)this.elements.queue[o].updateTopOffset();var r=this.processElementQueue(),a=performance.now();this.debugger.debug("ImageBuddy: update complete",r+" elements",Math.round(a-e)+"ms"),l.emit("update")},e.setupEventListeners=function(){this.throttleEventListener("resize",this.resizeHandler,{passive:!0}),this.throttleEventListener("scroll",this.scrollHandler,{passive:!0})},e.getElements=function(t){for(var e=[],s=t.querySelectorAll("["+this.config.attributes.sources+"]"),i=0;i<s.length;i++){var n=s[i];p(n)||m(n)||e.push(new b(n,this.config,this.opts))}return e},e.throttleEventListener=function(t,e,s){var i=this,n=this.passiveEventListenerSupported(),o=Object.assign(s,{passive:void 0===s.passive||s.passive,capture:void 0!==s.capture&&s.capture});this.eventsRunning||(this.eventsRunning={}),Object.prototype.hasOwnProperty.call(this.eventsRunning,t)||(this.eventsRunning[t]=!1),window.addEventListener(t,(function(){i.eventsRunning[t]||(i.eventsRunning[t]=!0,requestAnimationFrame((function(){window.dispatchEvent(new CustomEvent(t+"-throttled")),i.eventsRunning[t]=!1})))}),n?o:o.capture),"function"==typeof e&&window.addEventListener(t+"-throttled",e,n?o:o.capture)},e.passiveEventListenerSupported=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0,!0}});window.addEventListener("test",(function(){}),e)}catch(t){}return t},t.on=function(t,e){l.on(t,e)},t}();function v(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function y(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function w(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function S(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?w(Object(s),!0).forEach((function(e){v(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var O=new class{constructor(){v(this,"clickOutsideContentListener",(t=>{this.getSetting("closeOnOutsideClick",!0)&&t.target.classList.contains(this.getSetting("modalBackdropClass"))&&this.hide()})),v(this,"escapeListener",(t=>{this.getSetting("closeOnEscape",!0)&&27===t.keyCode&&this.hide()})),this.htmlEl=document.querySelector("html"),this.backdropEl=null,this.modalEl=null,this.defaults={closeDuration:400,closeOnOutsideClick:!0,closeOnEscape:!0,activeHTMLelementClass:"modal-active",ariaLabelClose:"Close modal",closeButtonContent:"&times;",modalBackdropClass:"modal-backdrop",modalClass:"modal",closeButtonClass:"modal__close",contentContainerClass:"modal__content-container",contentClass:"modal__content",loadingContainerClass:"modal__loading-container",isLoadingClass:"is-loading",callbacks:{}},this.currentOpts=S({},this.defaults)}setDefaults(t={}){this.defaults=S(S({},this.defaults),t)}getSetting(t,e=""){var s,i;return null!==(s=null!==(i=this.currentOpts[t])&&void 0!==i?i:this.defaults[t])&&void 0!==s?s:e}initModal(){return new Promise((t=>{this.modalEl=this.createModalEl(),this.backdropEl=this.createBackdropEl(this.modalEl),document.body.appendChild(this.backdropEl),this.modalEl.querySelector(`.${this.getSetting("closeButtonClass")}`).addEventListener("click",(t=>{t.preventDefault(),this.hide()})),setTimeout((()=>{t()}),0)}))}createBackdropEl(t=null){const e=document.createElement("div");return e.setAttribute("class",this.getSetting("modalBackdropClass")),t&&e.appendChild(t),e}createModalEl(){const t=document.createElement("div");return t.setAttribute("class",this.getSetting("modalClass")),t.innerHTML=`\n\t\t\t<button\n\t\t\t\tclass="${this.getSetting("closeButtonClass")}"\n\t\t\t\taria-label="${this.getSetting("ariaLabelClose")}"\n\t\t\t\tdata-modal-close\n\t\t\t>\n\t\t\t\t${this.getSetting("closeButtonContent")}\n\t\t\t</button>\n\t\t\t<div class="${this.getSetting("contentContainerClass")}">\n\t\t\t\t<div class="${this.getSetting("loadingContainerClass")}">\n\t\t\t\t\t<div class="ui__spin-loader"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="${this.getSetting("contentClass")}"></div>\n\t\t\t</div>\n\t\t`.trim(),t}async show(t="",e={}){this.currentOpts=S(S({},this.defaults),e),null!==this.modalEl&&console.error("Modal.show() cannot be run since another modal is already active"),await this.initModal(),this.htmlEl.classList.add(this.getSetting("activeHTMLelementClass")),t?this.setContent(t):this.setLoading(!0),this.backdropEl.addEventListener("click",this.clickOutsideContentListener),window.addEventListener("keydown",this.escapeListener)}hide(){var t;this.htmlEl.classList.remove(this.getSetting("activeHTMLelementClass")),null!==(t=this.currentOpts.callbacks)&&void 0!==t&&t.onHide&&"function"==typeof this.currentOpts.callbacks.onHide&&this.currentOpts.callbacks.onHide(),this.backdropEl.removeEventListener("click",this.clickOutsideContentListener),window.removeEventListener("keydown",this.escapeListener),setTimeout((()=>{this.modalEl.remove(),this.modalEl=null,this.backdropEl.remove(),this.backdropEl=null}),this.currentOpts.closeDuration||400)}setLoading(t){t?this.modalEl.classList.add(this.getSetting("isLoadingClass")):this.modalEl.classList.remove(this.getSetting("isLoadingClass"))}setContent(t="",e=!0){this.modalEl.querySelector(`.${this.getSetting("contentClass")}`).innerHTML=t,e&&this.setLoading(!1)}};const E="imagebuddy-trigger-update";var L=new class{constructor(){this.observers={}}subscribe(t,e){"function"==typeof e&&(Array.isArray(this.observers[t])||(this.observers[t]=[]),this.observers[t].push(e))}unsubscribe(t,e){Array.isArray(this.observers[t])&&(this.observers[t]=this.observers[t].filter((t=>t!==e)))}publish(t,e={}){Array.isArray(this.observers[t])&&this.observers[t].forEach((t=>{"function"==typeof t&&t(e)}))}};function C(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function j(t){const e={};let s=t.next();for(;!s.done;){const[i,n]=s.value;e[i]=n,s=t.next()}return e}function P(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}var k=class{constructor(t){if(this.el=t,this.cardsContainer=this.el.querySelector("[data-load-more-target]"),this.loadMoreContainer=this.el.querySelector(".archive__load-more-container"),this.noResultsContainer=this.el.querySelector("[data-no-results-container]"),this.loadingSpinner=this.el.querySelector(".posts-list__loader-container"),this.endpoint="wp/v2/posts",this.cardContainerClasses="columns small-12 medium-6 large-3",this.postDisplayFunc=(t,e)=>`\n\t\t\t<div class="${e.cardContainerClasses}">\n\t\t\t\t${t}\n\t\t\t</div>\n\t\t`,this.loadMore=this.loadMoreContainer?new class extends class{constructor(){this.emitterKey="emitter_"+Math.random().toString(36).substr(2,9),window[this.emitterKey]=[]}on(t,e,s){void 0===s&&(s=e),window[this.emitterKey].push({event:t,handler:e.bind(s)})}emit(t,e){window[this.emitterKey].forEach((s=>{s.event===t&&s.handler(e)}))}}{constructor(t){super(),this.containerEl=t,this.loadMoreButton=this.containerEl.querySelector(".js__load-more"),this.lastButtonText=this.loadMoreButton?this.loadMoreButton.textContent:"",this.loadMoreButton&&this.loadMoreButton.addEventListener("click",(t=>{t.preventDefault(),this.emit("load")}))}setLoading(t,e="Loading..."){this.loadMoreButton&&(t?(this.lastButtonText=this.loadMoreButton.textContent,this.loadMoreButton.textContent=e,this.loadMoreButton.classList.add("disabled")):(this.loadMoreButton.textContent=this.lastButtonText,this.loadMoreButton.classList.remove("disabled")))}setVisible(t){t?this.containerEl.classList.remove("hide"):this.containerEl.classList.add("hide")}}(this.loadMoreContainer):null,this.loadMore){const t=parseInt(this.cardsContainer.getAttribute("data-current-page"),10),e=parseInt(this.cardsContainer.getAttribute("data-total-pages"),10);this.loadMore.setVisible(t<e)}}setEndpoint(t){this.endpoint=t}setCardContainerClasses(t){this.cardContainerClasses=t}setPostDisplayCallback(t){this.postDisplayFunc=t}showLoadingSpinner(t){this.loadingSpinner&&(t?this.loadingSpinner.classList.remove("hide"):this.loadingSpinner.classList.add("hide"))}clearCardsContainer(){this.cardsContainer.innerHTML="",this.cardsContainer.setAttribute("data-current-page",0),this.cardsContainer.setAttribute("data-total-pages",1),this.showLoadingSpinner(!0),this.loadMore.setVisible(!1)}showNoResultsMessage(t){this.noResultsContainer&&(t?this.noResultsContainer.classList.remove("hide"):this.noResultsContainer.classList.add("hide"))}async loadMorePosts(t={}){if(!this.endpoint)throw new Error("No endpoint provided for loadMorePosts");const e=parseInt(this.cardsContainer.getAttribute("data-current-page"),10),s=e+1,i=parseInt(this.cardsContainer.getAttribute("data-total-pages"),10),n=parseInt(this.cardsContainer.getAttribute("data-posts-per-page"),10);if(this.showNoResultsMessage(!1),s>i)return void this.loadMore.setVisible(!1);const o=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?P(Object(s),!0).forEach((function(e){v(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):P(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({page:s,per_page:n},t);this.loadMore.setLoading(!0);try{const t=await async function(t,e={},s={}){let i=function(t=""){return(void 0!==window.apiSettings?window.apiSettings.base:"/wp-json/")+t}(t);Object.entries(e).length&&(i=`${i}?${new URLSearchParams(e).toString()}`);const n=await fetch(i,function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?C(Object(s),!0).forEach((function(e){v(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):C(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({method:"GET",cache:"no-cache",credentials:"include"},s)),o=await n.json();if(!n.ok)throw{headers:j(n.headers.entries()),body:o};return{headers:j(n.headers.entries()),body:o}}(this.endpoint,o),n="undefined"!==t.headers["x-wp-totalpages"]?parseInt(t.headers["x-wp-totalpages"],10):i;if(this.showLoadingSpinner(!1),t.body.length||0!==e){const e=t.body.map((t=>t.card_markup)).map((t=>this.postDisplayFunc(t,this)));this.cardsContainer.insertAdjacentHTML("beforeend",e.join(""))}else this.showNoResultsMessage(!0);this.cardsContainer.setAttribute("data-current-page",s),this.cardsContainer.setAttribute("data-total-pages",n),this.loadMore.setVisible(n>s),L.publish(E)}catch(t){this.showLoadingSpinner(!1),console.error(t)}this.loadMore.setLoading(!1)}};function q(){const t=new Map;return window.location.search.substring(1).split("&").forEach((e=>{const[s,i]=e.split("=");s&&t.set(s,i)})),t}function A(t){const e=window.location.origin+window.location.pathname,s=[];return t.forEach(((t,e)=>{s.push(`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)})),s.length?`${e}?${s.join("&")}`:e}function T(t,e=""){var s;return null!==(s=q().get(t))&&void 0!==s?s:e}var _=class extends k{constructor(t){super(t),this.setEndpoint("wp/v2/posts"),this.setPostDisplayCallback((t=>t)),this.formSearchEl=this.el.querySelector("form#form_filter_search"),this.filterCategoryEl=this.el.querySelector("select#filter_category"),this.filterTagEl=this.el.querySelector("select#filter_tag"),this.filterCategorySlug=T("category",""),this.filterTagSlug=T("tag",""),this.filterSearch=T("search",""),this.loadMore&&this.loadMore.on("load",(()=>this.loadBlogPosts())),this.formSearchEl&&this.formSearchEl.addEventListener("submit",(t=>{t.preventDefault();const e=t.currentTarget.querySelector("input");e&&(this.filterSearch=e.value.trim(),this.updateURL(),this.clearCardsContainer(),this.loadBlogPosts())})),this.filterCategoryEl&&this.filterCategoryEl.addEventListener("change",(t=>{var e;this.filterCategorySlug=null!==(e=t.currentTarget.value)&&void 0!==e?e:"",this.updateURL(),this.clearCardsContainer(),this.loadBlogPosts()})),this.filterTagEl&&this.filterTagEl.addEventListener("change",(t=>{var e;this.filterTagSlug=null!==(e=t.currentTarget.value)&&void 0!==e?e:"",this.updateURL(),this.clearCardsContainer(),this.loadBlogPosts()}))}loadBlogPosts(){const t={category:this.filterCategorySlug,tag:this.filterTagSlug,search:this.filterSearch};this.loadMorePosts(t)}updateURL(){const t=q();this.filterCategorySlug?t.set("category",this.filterCategorySlug):t.delete("category"),this.filterTagSlug?t.set("tag",this.filterTagSlug):t.delete("tag"),this.filterSearch?t.set("search",this.filterSearch):t.delete("search"),window.history.replaceState({},"",A(t))}},M=class extends k{constructor(t){super(t),this.setEndpoint("wp/v2/search"),this.setCardContainerClasses("columns small-12"),this.formSearchEl=this.el.querySelector("form#form_filter_search"),this.filterSearch=T("s",""),this.loadMore&&this.loadMore.on("load",(()=>this.loadSearchResults())),this.formSearchEl&&this.formSearchEl.addEventListener("submit",(t=>{t.preventDefault();const e=t.currentTarget.querySelector("input");e&&(this.filterSearch=e.value.trim(),this.updateURL(),this.clearCardsContainer(),this.loadSearchResults())}))}loadSearchResults(){const t={search:this.filterSearch};this.loadMorePosts(t)}updateURL(){const t=q();t.set("s",this.filterSearch),window.history.replaceState({},"",A(t))}};function D(){return(document.scrollingElement||document.documentElement).scrollTop}var x=class{constructor(t){this.curScrollPos=D(),this.prevScrollPos=0,this.documentHeight=document.body.clientHeight,this.windowHeight=window.outerHeight,this.scrollFunc="function"==typeof t?t:null,this.isTicking=!1,this.scrollFunc&&(document.addEventListener("scroll",this.scrollHandler.bind(this)),this.scrollFunc({curScrollPos:this.curScrollPos,prevScrollPos:this.prevScrollPos,documentHeight:this.documentHeight,windowHeight:this.windowHeight}))}scrollHandler(){this.isTicking||(this.isTicking=!0,requestAnimationFrame((()=>{this.prevScrollPos=this.curScrollPos,this.curScrollPos=D(),this.scrollFunc&&this.scrollFunc({curScrollPos:this.curScrollPos,prevScrollPos:this.prevScrollPos,documentHeight:document.body.clientHeight,windowHeight:window.innerHeight}),this.isTicking=!1})))}static defaultCallback(t,e=100){const s=document.querySelector("html");if(t.curScrollPos<=e)return s.classList.remove("scrolled"),s.classList.remove("scroll-up"),s.classList.remove("scroll-down"),void s.classList.remove("scroll-bottom");s.classList.add("scrolled"),t.curScrollPos>=t.documentHeight-t.windowHeight?s.classList.add("scroll-bottom"):s.classList.remove("scroll-bottom"),t.curScrollPos>t.prevScrollPos?(s.classList.remove("scroll-up"),s.classList.add("scroll-down")):(s.classList.remove("scroll-down"),s.classList.add("scroll-up"))}};function I(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}var B=class{constructor(){this.instances={components:{themeWelcome:null,bannerVideo:null,postsListBlog:[],postsListSearch:[]},templates:{},blocks:{},scrollWatcher:null,imageBuddy:null},this.init(),this.initComponents(),this.initTemplates(),this.initBlocks(),this.initSocialShare()}init(){(function(t={}){const e=t.attributes||{target:"_blank",rel:"noopener noreferrer"},s=document.querySelectorAll("a[href]");Array.from(s).forEach((t=>{(function(t){const e=-1===["/","#","?"].indexOf(t.charAt(0)),s=!1===new RegExp(`/${window.location.host}/`).test(t),i="mailto:"!==t.slice(0,7),n=s&&e&&i,o=t.indexOf(".pdf")>0;return n||o})(t.href)&&(Object.keys(e).forEach((s=>{t.setAttribute(s,e[s])})),t.classList.add("external-link"))}))})({target:"_blank",rel:"noopener"}),O.setDefaults({closeDuration:400,closeButtonContent:'\n\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" class="modal__close-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n\t\t\t\t\t<line x1="18" y1="6" x2="6" y2="18"></line>\n\t\t\t\t\t<line x1="6" y1="6" x2="18" y2="18"></line>\n\t\t\t\t</svg>\n\t\t\t'.trim()}),this.scrollWatcher=new x((t=>{x.defaultCallback(t,100)}));const t=document.querySelector(".site-header__mobile-menu-button");var e;t&&t.addEventListener("click",(()=>{document.documentElement.classList.toggle("mobile-menu-active")})),this.instances.imageBuddy=new f({lazyLoad:!0}),L.subscribe(E,(t=>{this.instances.imageBuddy.update(t||{})})),e=t=>{document.body.style.marginTop=`${t.offsetHeight}px`;const e=document.querySelector(".site-header");e&&(e.style.marginTop=`${t.offsetHeight}px`)},window.addEventListener("hellobar-visible",(t=>{var s;if(null!==(s=t.detail)&&void 0!==s&&s)e(document.querySelector(".hellobar"));else{document.body.style.marginTop="0px";const t=document.querySelector(".site-header");t&&(t.style.marginTop="0px")}})),window.addEventListener("resize",(()=>{requestAnimationFrame((()=>{document.body.classList.contains("hellobar--visible")&&e(document.querySelector(".hellobar"))}))}))}async initComponents(){const t=document.querySelector(".theme-welcome");t&&(this.instances.themeWelcome=new class{constructor(t){v(this,"initializeModals",(()=>{const t=this.el.querySelector(".js__example-modal--default"),e=this.el.querySelector(".js__example-modal--loading"),s=this.el.querySelector(".js__example-modal--video");t&&t.addEventListener("click",(()=>{O.show("Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perspiciatis tempora architecto asperiores unde omnis distinctio adipisci repellendus illum eligendi laudantium aspernatur sapiente, voluptates et sequi hic eius voluptas ullam. Tenetur sunt amet facere eligendi nihil eius reiciendis sint eos, dignissimos rerum impedit. Id culpa et est possimus nam adipisci, sint dolorum rerum doloremque deserunt. Distinctio ratione placeat, odit tempora laudantium sed sit pariatur cupiditate sint assumenda molestias? Reiciendis nam quasi, iusto dignissimos ipsa fugiat sit beatae delectus quod quaerat quia repudiandae nobis itaque possimus distinctio voluptates debitis ex assumenda. Asperiores ratione sunt expedita nesciunt, eius mollitia similique quibusdam inventore rem.")})),e&&e.addEventListener("click",(()=>{O.show(),setTimeout((()=>{O.setContent("This content was set after a 2 second delay.")}),2e3)})),s&&s.addEventListener("click",(t=>{!function(t){if(!t)return;const e=function(t){const e=function(t){const e=document.createElement("a"),s={};let i=[],n="";if(e.href=t,e.search){i=e.search.replace(/^\?/,"").split("&");for(let t=0;t<i.length;t++)if(n=i[t].split("="),2===n.length){const[t,e]=n;s[t]=e}}return{protocol:e.protocol,host:e.host,hostname:e.hostname,port:e.port,pathname:e.pathname,query:e.search,queryObject:s,hash:e.hash}}(t);if(-1!==e.hostname.indexOf("youtube.com")){if(e.queryObject.rel=0,e.queryObject.showinfo=0,e.queryObject.autoplay=1,"v"in e.queryObject)e.pathname=`/embed/${e.queryObject.v}`,delete e.queryObject.v;else if(-1!==e.pathname.indexOf("/embed/")){const t=e.pathname.split("/");e.pathname=`/embed/${t[t.length-1]}`}}else if(-1!==e.hostname.indexOf("youtu.be"))e.queryObject.rel=0,e.queryObject.showinfo=0,e.queryObject.autoplay=1,e.hostname="www.youtube.com",e.pathname=`/embed/${e.pathname.substr(1)}`;else if(-1!==e.hostname.indexOf("vimeo.com")){if(e.queryObject.autoplay=1,e.queryObject.portrait=0,e.queryObject.title=0,e.queryObject.byline=0,"player.vimeo.com"!==e.hostname){const t=e.pathname.substr(1).split("/")[0];e.hostname="player.vimeo.com",e.pathname=`/video/${t}`}}else if(-1!==e.hostname.indexOf("wistia.com")){e.queryObject.autoPlay=1,e.queryObject.playerColor="3852ad",e.queryObject.videoFoam="true",e.queryObject.playbar="true",e.queryObject.settingsControl="true";let t="";if("wvideo"in e.queryObject)t=e.queryObject.wvideo,delete e.queryObject.wvideo;else{const s=e.pathname.split("/");t=s[s.length-1]}e.hostname="fast.wistia.net",e.pathname=`/embed/iframe/${t}`}return function(t){let e=t.protocol||"";if(e+="//",e+=t.hostname||t.host||"","port"in t&&t.port&&(e+=":"+t.port),e+=t.pathname||"","queryObject"in t){const e=[];Object.keys(t.queryObject).forEach((s=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(t.queryObject[s]))})),t.query="?"+e.join("&")}return"query"in t&&(e+=t.query),e}(e)}(t);O.show("",{modalClass:"modal modal-video"});const s=-1!==e.toLowerCase().indexOf(".mp4"),i=`\n\t\t<div class="modal__video-container">\n\t\t\t${s?`\n\t\t\t\t<video class="modal__video-embed" src="${e}" controls autoplay></video>\n\t\t\t`:`\n\t\t\t\t<iframe class="modal__video-embed"\n\t\t\t\t\tsrc="${e}"\n\t\t\t\t\twidth="640"\n\t\t\t\t\theight="360"\n\t\t\t\t\tframeborder="0"\n\t\t\t\t\tallow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"\n\t\t\t\t\tallowfullscreen>\n\t\t\t\t</iframe>\n\t\t\t`}\n\t\t</div>\n\t`;O.setContent(i,!1),document.querySelector(".modal__video-embed").addEventListener(s?"loadeddata":"load",(()=>{O.setLoading(!1)}))}(t.currentTarget.getAttribute("data-video-url"))}))})),v(this,"initializeEmbla",(async()=>{try{const t=await new Promise(((t,e)=>{void 0!==window.EmblaCarousel&&t(window.EmblaCarousel);const s=(i="embla-carousel",void 0===window.appDependencies&&(window.appDependencies={}),-1===Object.keys(window.appDependencies).indexOf(i)?null:window.appDependencies[i]);var i;s&&t(s),n.e(882).then(n.bind(n,689)).then((e=>{var s;s=e.default,void 0===window.appDependencies&&(window.appDependencies={}),window.appDependencies["embla-carousel"]=s,t(e.default)})).catch((t=>{e(t)}))})),e=this.el.querySelectorAll(".embla-instance");Array.from(e).forEach((e=>{const s=e.querySelector(".embla"),i=e.querySelector(".embla__nav-button--prev"),n=e.querySelector(".embla__nav-button--next"),o=e.querySelector(".embla__pagination"),r=e?parseInt(e.getAttribute("data-transition-speed")||10,10):10,a=e?parseInt(e.getAttribute("data-enable-autoplay")||0,10):0,l=e?parseInt(e.getAttribute("data-autoplay-speed")||3e3,10):3e3,c={embla:t(s,{loop:!0,speed:r}),pagination:null,autoplay:null};var d,u,h;c.embla&&(c.embla.on("init",(()=>{L.publish(E)})),i&&n&&(u=[i],h=[n],(d=c.embla)&&(Array.isArray(u)?u.forEach((t=>t.addEventListener("click",d.scrollPrev,!1))):u.addEventListener("click",d.scrollPrev,!1),Array.isArray(h)?h.forEach((t=>t.addEventListener("click",d.scrollNext,!1))):h.addEventListener("click",d.scrollNext,!1))),o&&(c.pagination=new class{constructor(t,e,s={}){v(this,"setActivePaginationButtons",(()=>{if(!this.emblaInstance||!this.paginationDotEls.length)return;const t=this.emblaInstance.previousScrollSnap(),e=this.emblaInstance.selectedScrollSnap();this.paginationDotEls[t].classList.remove(this.opts.activeClassName),this.paginationDotEls[e].classList.add(this.opts.activeClassName)})),t&&e&&(this.opts=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?y(Object(s),!0).forEach((function(e){v(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):y(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({buttonClassName:"embla__pagination-button",activeClassName:"active"},s),this.emblaInstance=t,this.paginationEl=e,this.paginationEl.insertAdjacentHTML("afterbegin",this.createButtonsMarkup()),this.paginationDotEls=Array.from(this.paginationEl.querySelectorAll(`.${this.opts.buttonClassName}`)),this.paginationDotEls.forEach(((t,e)=>t.addEventListener("click",(()=>this.emblaInstance.scrollTo(e)),!1))),this.emblaInstance.on("init",(()=>{this.setActivePaginationButtons()})),this.emblaInstance.on("select",this.setActivePaginationButtons))}createButtonsMarkup(){return this.emblaInstance.scrollSnapList().reduce((t=>t+`<button class="${this.opts.buttonClassName}" type="button"></button>`),"")}}(c.embla,o,{buttonClassName:"embla__pagination-button"})),a&&l&&(c.autoplay=new class{constructor(t,e){v(this,"play",(()=>{this.stop(),requestAnimationFrame((()=>{this.timer=window.setTimeout(this.next,this.interval)}))})),v(this,"stop",(()=>{window.clearTimeout(this.timer),this.timer=0})),v(this,"next",(()=>{this.emblaInstance.canScrollNext()?this.emblaInstance.scrollNext():this.emblaInstance.scrollTo(0),this.play()})),this.emblaInstance=t,this.interval=e,this.timer=0,this.emblaInstance&&(this.emblaInstance.on("init",this.play),this.emblaInstance.on("pointerDown",this.stop))}}(c.autoplay,l)),this.emblaInstances.push(c))}))}catch(t){console.error("Embla Carousel dynamic import failed",t)}})),this.el=t,this.emblaInstances=[],this.initializeModals(),this.initializeEmbla()}}(t));const e=document.querySelector(".banner__cover-video");e&&(this.instances.components.bannerVideo=new class{constructor(t){v(this,"catchPlaybackError",(()=>{this.setVideoAutoplaySupport(!1,!1)})),v(this,"chooseVideoAndPoster",(()=>{const t=window.innerWidth;let e="";if(e=t>=1024?"desktop":t>=641?"tablet":"mobile",this.currentSize===e)return;this.currentSize=e;let s="",i="";switch(this.currentSize){case"desktop":s=this.el.getAttribute("data-video-desktop"),i=this.el.getAttribute("data-poster-desktop");break;case"tablet":s=this.el.getAttribute("data-video-tablet"),i=this.el.getAttribute("data-poster-tablet");break;case"mobile":s=this.el.getAttribute("data-video-mobile"),i=this.el.getAttribute("data-poster-mobile")}s?(this.el.pause(),this.el.setAttribute("src",s),this.el.setAttribute("poster",i),this.el.load(),this.el.play()):this.setVideoAutoplaySupport(!1)})),this.el=t,this.bannerParentEl=this.el.closest(".banner"),this.currentSize="",this.chooseVideoAndPoster(),this.el.addEventListener("error",this.catchPlaybackError),this.el.addEventListener("abort",this.catchPlaybackError),window.addEventListener("resize",(()=>this.chooseVideoAndPoster()))}setVideoAutoplaySupport(t,e=!1){const s=document.documentElement;t?(s.classList.add("video-autoplay-support"),s.classList.remove("no-video-autoplay-support")):(s.classList.remove("video-autoplay-support"),s.classList.add("no-video-autoplay-support")),e&&this.el.remove()}}(e)),Array.from(document.querySelectorAll(".posts-list--blog")).forEach((t=>{this.instances.components.postsListBlog.push(new _(t))})),Array.from(document.querySelectorAll(".posts-list--search")).forEach((t=>{this.instances.components.postsListSearch.push(new M(t))}))}initTemplates(){}initBlocks(){const t=document.querySelectorAll(".block-animate");t&&t.length&&t.forEach((t=>function(t,e,s={}){s=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?I(Object(s),!0).forEach((function(e){v(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):I(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({vpWidthThresholds:{0:.15,641:.2,1025:.35},triggerIfBelow:!1},s);let i=.35;if("object"==typeof s.vpWidthThresholds){const t=Object.keys(s.vpWidthThresholds).map((t=>parseInt(t,10))).sort(((t,e)=>t-e));t.length&&(i=s.vpWidthThresholds[t[0]],t.forEach((t=>{window.innerWidth>=t&&(i=s.vpWidthThresholds[t])})))}let n=!0;const o=new IntersectionObserver((i=>{const r=i[0]||null;r?((n&&s.triggerIfBelow||r.isIntersecting)&&(e(r,t),o.disconnect()),n=!1):o.disconnect()}),{threshold:i});return o.observe(t),o}(t,((t,e)=>{e.classList.remove("block-animate")}))))}initSocialShare(){const t=document.querySelectorAll("[data-social-share]");Array.from(t).forEach((t=>{t.addEventListener("click",(e=>{const s=t.getAttribute("data-social-share"),i=t.getAttribute("href");e.preventDefault(),i&&window.open(i,`${s}Share`,"width=626,height=436")}))}))}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>{window.app=new B})):window.app=new B}();
//# sourceMappingURL=master.min.js.map